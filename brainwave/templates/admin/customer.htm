{% extends 'content.htm' %}

{% block includes %}
<script src='/static/js/admin/customer.js'></script>
{% endblock %}

{% block content %}
<div class='row col-md-12'>
    <button id='new-btn' class='btn btn-primary btn-xs pull-right'>
        <strong>+</strong> Add new customer
    </button>
</div>

<div id='new-customer' class='row col-md-12 custyle'></div>

<div class='row col-md-12 custyle'>
    <table id='customers' class='table table-striped custab'>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>

<script type='text/template' id='customer-view-template'>
<% _.each(customers, function(customer) { %>
    <tr data-id='<%= customer.get('id') %>'>
        <td><%= customer.get('id') %></td>
        <td><%= customer.get('name') %></td>
        <td class='text-right'>
            <button class='edit btn btn-info btn-xs'>
                <span class='glyphicon glyphicon-edit'></span>
            </button>
            <button class='remove btn btn-danger btn-xs'>
                <span class='glyphicon glyphicon-remove'></span>
            </button>
        </td>
    </tr>
<% }); %>
</script>

<script type='text/template' id='customer-edit-template'>
<td><%= customer.get('id') %></td>
<td><input type='text' class='form-control' data-property='name' value='<%= customer.get('name') %>' /></td>
<td class='text-right'>
    <button class='save btn btn-primary btn-xs'>
        <span class='glyphicon glyphicon-ok'></span>
    </button>
    <button class='cancel btn btn-danger btn-xs'>
        <span class='glyphicon glyphicon-ban-circle'></span>
    </button>
</td>
</script>

<script type='text/template' id='customer-new-template'>
<div id='new-customer-form'>
    <h3>New customer</h3>
    <div class='form-group'>
        <label for='new-customer-name'>Name</label>
        <input type='text' class='form-control' id='new-customer-name' data-property='name' placeholder='Name' />
    </div>

    <button id='save-new' class='btn btn-primary'>Save</button>
    <button id='cancel-new' class='btn btn-danger'>Cancel</button>
</div>
</script>

{% endblock %}
